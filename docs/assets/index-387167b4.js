var Ce=Object.defineProperty;var De=(o,e,i)=>e in o?Ce(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var Q=(o,e,i)=>(De(o,typeof e!="symbol"?e+"":e,i),i),ne=(o,e,i)=>{if(!e.has(o))throw TypeError("Cannot "+i)};var s=(o,e,i)=>(ne(o,e,"read from private field"),i?i.call(o):e.get(o)),h=(o,e,i)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,i)},u=(o,e,i,a)=>(ne(o,e,"write to private field"),a?a.call(o,i):e.set(o,i),i),j=(o,e,i,a)=>({set _(r){u(o,e,r,i)},get _(){return s(o,e,a)}}),b=(o,e,i)=>(ne(o,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();const oe=Object.freeze({LETRAS:1,NUMEROS:2,MIXTO:3}),c=Object.freeze({HORIZONTAL_DER:6,HORIZONTAL_IZQ:4,VERTICAL_ABA:8,VERTICAL_ARR:2,DIAGONAL_DERABA:9,DIAGONAL_DERARR:3,DIAGONAL_IZQABA:7,DIAGONAL_IZQARR:1});var Y,X;class be{constructor(e,i){h(this,Y,0);h(this,X,0);u(this,Y,e),u(this,X,i)}get getX(){return s(this,Y)}get getY(){return s(this,X)}setX(e){u(this,Y,e)}setY(e){u(this,X,e)}}Y=new WeakMap,X=new WeakMap;const fe=(o,e)=>{console.log(`aleatorio = (${o}, ${e})`);const i=Number(e)-Number(o);let r=Math.random()*(Number(i)+1);return r=Math.trunc(Math.floor(r)),String(Number(o)+Number(r))},Ae=async o=>{const e=`https://clientes.api.greenborn.com.ar/public-random-word?c=${o}`;return await(await fetch(e)).json()},Te=(o,e)=>o.getY===e.getY&&o.getX!=e.getX,Se=(o,e)=>o.getY!=e.getY&&o.getX===e.getX,Ye=(o,e)=>Math.abs(e.getY-o.getY)===Math.abs(e.getX-o.getX);var g,E,Z,w,G,V,ce,Ze,$,ge,x,ue;class Xe{constructor(e,i){h(this,G);h(this,ce);h(this,$);h(this,g,void 0);h(this,E,void 0);h(this,Z,void 0);h(this,w,void 0);Q(this,"dibujarLista",()=>{let e='<div class="lista">';for(let i=0;i<s(this,g).length;i++)b(this,$,ge).call(this,s(this,g)[i])?e=e+'<div class="filaPalabraAcertada"><div class="columnaPalabras">'+s(this,g)[i]+"</div></div>":e=e+'<div class="filaPalabras"><div class="columnaPalabras">'+s(this,g)[i]+"</div></div>";return e=e+"</div>",s(this,w).innerHTML=e,s(this,w)});h(this,x,(e,i)=>{const a=fe(e,i);b(this,G,V).call(this,a)});h(this,ue,e=>{Ae(e).then(i=>{for(let a=0;a<e;a++)b(this,G,V).call(this,i[a])})});Q(this,"generarLista",async(e,i=1e8,a=999999999)=>{if(console.log("generarLista()"),u(this,g,[]),u(this,E,[]),s(this,Z)===oe.NUMEROS){for(let r=1;r<=e;r++)s(this,x).call(this,i,a);return this}else if(s(this,Z)===oe.LETRAS){const r=await Ae(e);for(let t=0;t<r.length;t++)b(this,G,V).call(this,r[t]);return this}});u(this,g,[]),u(this,E,[]),u(this,Z,e),u(this,w,i)}get numeroPalabras(){return s(this,g).length}obtenerElementoPorPosicion(e){if(s(this,g).length>=e)return s(this,g)[e]}marcarPalabra(e){s(this,E).push(e)}desmarcarPalabra(e){u(this,E,s(this,E).filter(i=>i!=e))}validarPalabra(e){if(!e)return!1;const i=e.split("").reverse().join(""),a=s(this,g).filter(t=>t==e||t==i);if(!a||a.length===0)return!1;const r=s(this,E).filter(t=>t==e||t==i);return!r||r.length===0}}g=new WeakMap,E=new WeakMap,Z=new WeakMap,w=new WeakMap,G=new WeakSet,V=function(e){s(this,g).push(e)},ce=new WeakSet,Ze=function(e){u(this,g,s(this,g).filter(i=>i!=e))},$=new WeakSet,ge=function(e){const i=e.split("").reverse().join(""),a=s(this,E).filter(r=>r==e||r==i);return!(!a||a.length===0)},x=new WeakMap,ue=new WeakMap;const _="-";var n,m,U,d,P,z,me,L,v,J,Ne,k,q;class we{constructor(e,i,a,r){h(this,z);h(this,L);h(this,J);h(this,k);h(this,n,void 0);h(this,m,void 0);h(this,U,void 0);h(this,d,void 0);h(this,P,void 0);Q(this,"dibujarTablero",()=>{let e="";e=`
        <div class="tablero">      
        `;for(let i=0;i<s(this,m);i++){e=e+'<div class="filaTablero">';for(let a=0;a<s(this,n);a++){let r=s(this,d)[s(this,n)*i+a];e=e+`
                    <div class="columnaTablero">
                        <div id="elem${a}_${i}" class="casilla">
                            <span class="botonCasilla">${r}</span>
                        </div>
                    </div>                    
                    `}e=e+"</div>",e=e+'<div class="limpiarFlotantes"></div>'}return e=e+"</div>",s(this,P).innerHTML=e,s(this,P)});u(this,n,e),u(this,m,i),u(this,U,a),u(this,P,r),this.inicializarTablero()}inicializarTablero(e=_){u(this,d,[]);for(let i=0;i<s(this,n);i++)for(let a=0;a<s(this,m);a++)s(this,d).push(e)}ubicarListaPalabras(e,i,a){if(e.numeroPalabras<i+a)return this;let r=c.HORIZONTAL_DER,t=0;for(let l=1;l<=i;l++)b(this,k,q).call(this,e.obtenerElementoPorPosicion(t),r),r=r===c.HORIZONTAL_DER?c.HORIZONTAL_IZQ:c.HORIZONTAL_DER,t++;r=c.VERTICAL_ABA;for(let l=1;l<=a;l++)b(this,k,q).call(this,e.obtenerElementoPorPosicion(t),r),r=r===c.VERTICAL_ABA?c.VERTICAL_ARR:c.VERTICAL_ABA,t++;r=c.DIAGONAL_DERABA;for(let l=1;l<=e.numeroPalabras-(a+i);l++){switch(b(this,k,q).call(this,e.obtenerElementoPorPosicion(t),r),r){case c.DIAGONAL_DERARR:r=c.DIAGONAL_DERABA;break;case c.DIAGONAL_DERABA:r=c.DIAGONAL_IZQABA;break;case c.DIAGONAL_IZQABA:r=c.DIAGONAL_IZQARR;break;case c.DIAGONAL_IZQARR:r=c.DIAGONAL_DERARR;break}t++}return this}}n=new WeakMap,m=new WeakMap,U=new WeakMap,d=new WeakMap,P=new WeakMap,z=new WeakSet,me=function(e,i,a,r){let t=0,l=!1;switch(i){case c.HORIZONTAL_DER:do{const A=e[t];l=s(this,d)[r*s(this,n)+a+t]===_||s(this,d)[r*s(this,n)+a+t]===A,t++}while(t<e.length&&l);break;case c.HORIZONTAL_IZQ:do{const A=e[t];l=s(this,d)[r*s(this,n)+a-t]===_||s(this,d)[r*s(this,n)+a-t]===A,t++}while(t<e.length&&l);break;case c.VERTICAL_ABA:do{const A=e[t];l=s(this,d)[r*s(this,n)+a+t*s(this,n)]===_||s(this,d)[r*s(this,n)+a+t*s(this,n)]===A,t++}while(t<e.length&&l);break;case c.VERTICAL_ARR:do{const A=e[t];l=s(this,d)[r*s(this,n)+a-t*s(this,n)]===_||s(this,d)[r*s(this,n)+a-t*s(this,n)]===A,t++}while(t<e.length&&l);break;case c.DIAGONAL_DERABA:do{const A=e[t];l=s(this,d)[r*s(this,n)+a+t+t*s(this,n)]===_||s(this,d)[r*s(this,n)+a+t+t*s(this,n)]===A,t++}while(t<e.length&&l);break;case c.DIAGONAL_DERARR:do{const A=e[t];l=s(this,d)[r*s(this,n)+a+t-t*s(this,n)]===_||s(this,d)[r*s(this,n)+a+t-t*s(this,n)]===A,t++}while(t<e.length&&l);break;case c.DIAGONAL_IZQABA:do{const A=e[t];l=s(this,d)[r*s(this,n)+a-t+t*s(this,n)]===_||s(this,d)[r*s(this,n)+a-t+t*s(this,n)]===A,t++}while(t<e.length&&l);break;case c.DIAGONAL_IZQARR:do{const A=e[t];l=s(this,d)[r*s(this,n)+a-t-t*s(this,n)]===_||s(this,d)[r*s(this,n)+a-t-t*s(this,n)]===A,t++}while(t<e.length&&l);break}return l},L=new WeakSet,v=function(e,i,a,r,t,l){let A=[];for(let f=r;f<=l;f++)for(let S=a;S<=t;S++)if(b(this,z,me).call(this,e,i,S,f)){const H=new be(S,f);A.push(H)}return A},J=new WeakSet,Ne=function(e,i,a){const r=s(this,n)*a.getY+a.getX;switch(i){case c.HORIZONTAL_DER:for(let t=0;t<e.length;t++)s(this,d)[r+t]=e[t];break;case c.HORIZONTAL_IZQ:for(let t=0;t<e.length;t++)s(this,d)[r-t]=e[t];break;case c.VERTICAL_ABA:for(let t=0;t<e.length;t++)s(this,d)[r+t*s(this,n)]=e[t];break;case c.VERTICAL_ARR:for(let t=0;t<e.length;t++)s(this,d)[r-t*s(this,n)]=e[t];break;case c.DIAGONAL_DERABA:for(let t=0;t<e.length;t++)s(this,d)[r+t+t*s(this,n)]=e[t];break;case c.DIAGONAL_DERARR:for(let t=0;t<e.length;t++)s(this,d)[r+t-t*s(this,n)]=e[t];break;case c.DIAGONAL_IZQABA:for(let t=0;t<e.length;t++)s(this,d)[r-t+t*s(this,n)]=e[t];break;case c.DIAGONAL_IZQARR:for(let t=0;t<e.length;t++)s(this,d)[r-t-t*s(this,n)]=e[t];break}},k=new WeakSet,q=function(e,i){const a=e.length;let r=[];switch(i){case c.HORIZONTAL_DER:r=b(this,L,v).call(this,e,i,0,0,Number(s(this,n)-a),Number(s(this,m)-1));break;case c.HORIZONTAL_IZQ:r=b(this,L,v).call(this,e,i,a-1,0,Number(s(this,n)-1),Number(s(this,m)-1));break;case c.VERTICAL_ABA:r=b(this,L,v).call(this,e,i,0,0,Number(s(this,n)-1),Number(s(this,m)-a));break;case c.VERTICAL_ARR:r=b(this,L,v).call(this,e,i,0,a-1,Number(s(this,n)-1),Number(s(this,m)-1));break;case c.DIAGONAL_DERABA:r=b(this,L,v).call(this,e,i,0,0,Number(s(this,n)-a),Number(s(this,m)-a));break;case c.DIAGONAL_DERARR:r=b(this,L,v).call(this,e,i,0,Number(a-1),Number(s(this,n)-a),Number(s(this,m)-1));break;case c.DIAGONAL_IZQABA:r=b(this,L,v).call(this,e,i,Number(a-1),0,Number(s(this,n)-1),Number(s(this,m)-a));break;case c.DIAGONAL_IZQARR:r=b(this,L,v).call(this,e,i,Number(a-1),Number(a-1),Number(s(this,n)-1),Number(s(this,m)-1));break}if(r&&r.length>0){const t=fe(0,r.length-1),l=r[t];b(this,J,Ne).call(this,String(e),i,l)}return this};var F,R,p,I,K,O,C,B;class Ge{constructor(e,i,a,r){h(this,F,void 0);h(this,R,void 0);h(this,p,void 0);h(this,I,void 0);h(this,K,void 0);h(this,O,void 0);h(this,C,void 0);h(this,B,void 0);return u(this,K,e),u(this,p,i),u(this,F,a),u(this,O,0),u(this,I,0),u(this,R,0),u(this,C,0),u(this,B,r),this}get aciertos(){return s(this,O)+s(this,I)+s(this,R)}get fallos(){return s(this,C)}get puntuacion(){return s(this,O)+s(this,I)+s(this,R)-s(this,C)}acertarHorizontal(){return j(this,O)._++,s(this,O)+s(this,I)+s(this,R)}acertarVertical(){return j(this,I)._++,s(this,O)+s(this,I)+s(this,R)}acertarDiagonal(){return j(this,R)._++,s(this,O)+s(this,I)+s(this,R)}dibujarMarcador(){let e='<div class="marcador">';const i=s(this,O)+s(this,I)+s(this,R),a=i-s(this,C);return e=e+'<div class="flex-item aciertos"><h3>A C E R T A D A S : '+i+"</h3></div>",e=e+'<div class="flex-item fallos"><h3>F A L L O S : '+s(this,C)+"</h3></div>",e=e+'<div class="flex-item puntos"><h3>P U N T U A C I Ã“ N : '+a+"</h3></div>",e=e+"</div>",s(this,B).innerHTML=e,s(this,B)}}F=new WeakMap,R=new WeakMap,p=new WeakMap,I=new WeakMap,K=new WeakMap,O=new WeakMap,C=new WeakMap,B=new WeakMap;var T,N,M,D,y,he,W,Le,ee,Re,te,Ie,se,Oe,ie,Ee,re,_e,ae;class Pe{constructor(e,i,a,r,t,l,A){h(this,y);h(this,W);h(this,ee);h(this,te);h(this,se);h(this,ie);h(this,re);h(this,T,void 0);h(this,N,void 0);h(this,M,void 0);h(this,D,void 0);h(this,ae,(e,i)=>{console.log(` ---->> marcarPalabra( ${e}, ${i} )`);let a="";const r=b(this,y,he).call(this,e),t=b(this,y,he).call(this,i);if(Te(r,t)&&(a=b(this,W,Le).call(this,r,t)),Se(r,t)&&(a=b(this,ee,Re).call(this,r,t)),Ye(r,t)&&(a=b(this,se,Oe).call(this,r,t)),s(this,N).validarPalabra(a)){s(this,N).marcarPalabra(a),b(this,ie,Ee).call(this),s(this,N).dibujarLista();return}b(this,re,_e).call(this)});let f=A.querySelector("#marcador");u(this,M,new Ge(t,l,Number(r-(t+l)),f));let S=A.querySelector("#palabras");u(this,N,new Xe(a,S));let H=A.querySelector("#tablero");u(this,T,new we(e,i,a,H)),u(this,D,void 0),this.obtenerListaPalabras(r).then(()=>{this.ubicarPalabras(t,l),H.addEventListener("click",ve=>{console.log(" ---->> tableroSelectListener");const le=ve.target.closest(".casilla");if(!le)return;const de=le.getAttribute("id");s(this,D)?(s(this,ae).call(this,s(this,D),de),u(this,D,void 0)):(u(this,D,de),le.firstElementChild.classList.toggle("botonCasillaSeleccion"))})})}async obtenerListaPalabras(e){return u(this,N,await s(this,N).generarLista(e)),s(this,N)}ubicarPalabras(e,i){u(this,T,s(this,T).ubicarListaPalabras(s(this,N),e,i)),this.dibujarJuego()}dibujarJuego(e){s(this,N).dibujarLista(),s(this,T).dibujarTablero(),s(this,M).dibujarMarcador()}}T=new WeakMap,N=new WeakMap,M=new WeakMap,D=new WeakMap,y=new WeakSet,he=function(e){const i=e.indexOf("_"),a=e.substring(4,i),r=e.substring(i+1);return new be(a,r)},W=new WeakSet,Le=function(e,i){let a="";if(Number(i.getX)<Number(e.getX)){const r=e.getX,t=e.getY;e.setX(i.getX),e.setY(i.getY),i.setX(r),i.setY(t)}for(let r=Number(e.getX);r<=Number(i.getX);r++){const t="#elem"+r+"_"+e.getY,l=document.querySelector(t);l&&(l.firstElementChild.classList.remove("botonCasillaSeleccion"),l.firstElementChild.classList.add("botonCasillaSeleccion"),a=a.concat(l.firstElementChild.innerText))}return a},ee=new WeakSet,Re=function(e,i){let a="";if(Number(i.getY)<Number(e.getY)){const r=e.getX,t=e.getY;e.setX(i.getX),e.setY(i.getY),i.setX(r),i.setY(t)}for(let r=Number(e.getY);r<=Number(i.getY);r++){const t="#elem"+e.getX+"_"+r,l=document.querySelector(t);l&&(l.firstElementChild.classList.remove("botonCasillaSeleccion"),l.firstElementChild.classList.add("botonCasillaSeleccion"),a=a.concat(l.firstElementChild.innerText))}return a},te=new WeakSet,Ie=function(e,i){let a=1,r="";Number(i.getY)<Number(e.getY)&&(a=-1);let t=Number(e.getY);for(let l=Number(e.getX);l<=Number(i.getX);l++){const A="#elem"+l+"_"+t,f=document.querySelector(A);f&&(f.firstElementChild.classList.remove("botonCasillaSeleccion"),f.firstElementChild.classList.add("botonCasillaSeleccion"),r=r.concat(f.firstElementChild.innerText)),t=t+a}return r},se=new WeakSet,Oe=function(e,i){let a=1,r="";if(Number(i.getY)<Number(e.getY)&&(a=-1),Number(i.getX)<Number(e.getX))return b(this,te,Ie).call(this,i,e);let t=Number(e.getY);for(let l=Number(e.getX);l<=Number(i.getX);l++){const A="#elem"+l+"_"+t,f=document.querySelector(A);f&&(f.firstElementChild.classList.remove("botonCasillaSeleccion"),f.firstElementChild.classList.add("botonCasillaSeleccion"),r=r.concat(f.firstElementChild.innerText)),t=t+a}return r},ie=new WeakSet,Ee=function(){var e=document.getElementsByClassName("botonCasillaSeleccion");for(let i=e.length-1;i>=0;i--)e[i].classList.add("botonCasillaAcertada"),e[i].classList.remove("botonCasillaSeleccion")},re=new WeakSet,_e=function(){var e=document.getElementsByClassName("botonCasillaSeleccion");if(e)for(let i=e.length-1;i>=0;i--)e[i].classList.remove("botonCasillaSeleccion")},ae=new WeakMap;document.querySelector("#juego");new Pe(15,13,oe.NUMEROS,9,3,3,document);
